logical-termination-point:
  type: array
  x-key: local-id
  items:
    type: object
    required:
      - local-id
      - layer-protocol
    properties:
      local-id:
        type: string
        description: >
          'managementDomain
          candidate: from [CDM://v1/establish-management-domain-connection$request.body#management-domain]
          running: from candidate
          operational: from running'
      layer-protocol:
        type: array
        x-key: local-id
        minItems: 2
        maxItems: 2
        items:
          oneOf:
            - description: 'httpClient'
              type: object
              required:
                - local-id
                - http-user-name
                - http-password
              properties:
                local-id:
                  type: string
                  enum:
                    - 'http-client'
                http-user-name:
                  type: string
                  description: >
                    'applicationName used as name of the user applied for authenticating at the Controller
                    candidate: from [CDM://v1/establish-management-domain-connection$request.body#application-name]
                    running: from candidate
                    operational: set by [/network-control-domain=running/profile=[_template]/measure-list-of-management-domain-interfaces-function-name]'
                http-password:
                  type: integer
                  description: >
                    'Password of the user applied for authenticating at the Controller
                    candidate: from [CDM://v1/establish-management-domain-connection$request.body#http-password]
                    running: from candidate
                    operational: set by [/network-control-domain=running/profile=[_template]/measure-list-of-management-domain-interfaces-function-name]'
            - description: 'tcpClient'
              type: object
              required:
                - local-id
                - remote-ip-address
                - remote-port
              properties:
                local-id:
                  type: string
                  enum:
                    - 'tcp-client'
                remote-ip-address:
                  type: string
                  description: >
                    'IP address of either LoadBalancer or single Controller
                    candidate: from [ managementDomain=[CDM://v1/establish-management-domain-connection$request.body#management-domain]
                                    and tcpServer=[/network-control-domain=running/control-construct=[managementDomain]/_tcp-server]
                                    and category=[/network-control-domain=running/control-construct=[tcpServer]/category]
                                    and if category==loadBalancer [/network-control-domain=running/control-construct=[tcpServer]/logical-termination-point=[managementDomain]/layer-protocol=tcp-server/local-ip-address]
                                    or elseif category==controller [/network-control-domain=running/control-construct=[tcpServer]/logical-termination-point=controller-manager/layer-protocol=tcp-server/local-ip-address] ]
                    running: from candidate
                    operational: set by [/network-control-domain=running/profile=[_template]/measure-list-of-management-domain-interfaces-function-name]'
                remote-port:
                  type: integer
                  description: >
                    'TCP port of either LoadBalancer or single Controller
                    candidate: from [ managementDomain=[CDM://v1/establish-management-domain-connection$request.body#management-domain]
                                    and tcpServer=[/network-control-domain=running/control-construct=[managementDomain]/_tcp-server]
                                    and category=[/network-control-domain=running/control-construct=[tcpServer]/category]
                                    and if category==loadBalancer [/network-control-domain=running/control-construct=[tcpServer]/logical-termination-point=[managementDomain]/layer-protocol=tcp-server/local-port]
                                    or elseif category==controller [/network-control-domain=running/control-construct=[tcpServer]/logical-termination-point=controller-manager/layer-protocol=tcp-server/local-port] ]
                    running: from candidate
                    operational: set by [/network-control-domain=running/profile=[_template]/measure-list-of-management-domain-interfaces-function-name]'
