affected-device:
  type: array
  x-key: _affected-device
  description: 'List of ManagementPlaneTransportFCs that exist within this ManagementDomain and terminate at this Application'
  items:
    type: object
    required:
      - _affected-device
    properties:
      _affected-device:
        type: string
        description: >
          'Reference towards an existing (not necessarily having problems) ManagementPlaneTransportFC 
          from [CDM://v1/establish-management-plane-transport$request.body#device-name]'
      error:
        type: array
        x-key: _error-code
        minItems: 1
        description: 'error attribute exclusively occurs, if there is at least one error directly associated with the FC'
        items:
          $ref: "#/components/schemas/errorDescription"
      affected-link:
        type: array
        x-key: _affected-link
        minItems: 1
        description: 'affected-link attribute exclusively occurs, if there is at least one error associated with a Link'
        items:
          type: object
          minProperties: 2
          required:
            - _affected-link
          properties:
            _affected-link:
              type: string
              description: 'Reference towards a Link with problems (value must be unique and invariant)'
            error:
              type: array
              x-key: _error-code
              minItems: 1
              description: 'error attribute exclusively occurs, if there is at least one error directly associated with the Link'
              items:
                $ref: "#/components/schemas/errorDescription"
            affected-cc:
              type: array
              x-key: _affected-cc
              minItems: 1
              description: 'affected-cc attribute exclusively occurs, if there is at least one error associated with a ControlConstruct'
              items:
                type: object
                minProperties: 2
                required:
                  - _affected-cc
                properties:
                  _affected-cc:
                    type: string
                    description: 'Reference towards a ControlConstruct that has problems (value must be unique and invariant)'
                  error:
                    type: array
                    x-key: _error-code
                    minItems: 1
                    description: 'error attribute exclusively occurs, if there is at least one error directly associated with the ControlConstruct'
                    items:
                      $ref: "#/components/schemas/errorDescription"
                  affected-ltp:
                    type: array
                    x-key: _affected-ltp
                    minItems: 1
                    description: 'affected-ltp attribute exclusively occurs, if there is at least one error associated with a LogicalTerminationPoint'
                    items:
                      type: object
                      minProperties: 2
                      required:
                        - _affected-ltp
                      properties:
                        _affected-ltp:
                          type: string
                          description: 'Reference towards a LogicalTerminationPoint that has problems (value must be unique and invariant)'
                        error:
                          type: array
                          x-key: _error-code
                          minItems: 1
                          description: 'error attribute exclusively occurs, if there is at least one error directly associated with the LogicalTerminationPoint'
                          items:
                            $ref: "#/components/schemas/errorDescription"
                        affected-lp:
                          type: array
                          x-key: _affected-lp
                          minItems: 1
                          description: 'affected-lp attribute exclusively occurs, if there is at least one error associated with a LayerProtocol'
                          items:
                            type: object
                            required:
                              - _affected-lp
                              - error
                            properties:
                              _affected-lp:
                                type: string
                                description: 'Reference towards a LayerProtocol that has problems (value must be unique and invariant)'
                              error:
                                type: array
                                x-key: _error-code
                                minItems: 1
                                description: 'Error associated with the LayerProtocol'
                                items:
                                  $ref: "#/components/schemas/errorDescription"
components:
  schemas:
    errorDescription:
      type: object
      required:
        - _error-code
        - date-of-creation
        - past-attempts-to-fix
        - date-of-next-attempt-to-fix
      properties:
        _error-code:
          type: integer
          description: 'Reference towards a definition of an error-code (value must be unique and invariant)'
        date-of-creation:
          type: string
          pattern: '^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?(Z|[\+\-]\d{2}:\d{2})$'
          description: 'Date and time when this problem has been detected'
        past-attempts-to-fix:
          type: array
          x-key: date-of-attempt
          description: 'List of past attempts to fix the problem'
          items:
            type: object
            required:
              - date-of-attempt
              - response-code
            properties:
              date-of-attempt:
                type: string
                pattern: '^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?(Z|[\+\-]\d{2}:\d{2})$'
                description: 'Date and time when it was attempted to fix the problem'
              response-code:
                type: integer
                description: 'Code that resulted from the attempt to fix the problem'
        date-of-next-attempt-to-fix:
          type: string
          pattern: '^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?(Z|[\+\-]\d{2}:\d{2})$'
          description: 'Next attempt to fix this problem shall not be made before this date'
